<div class="container">
    <h4>Add Post</h4>
    <form [formGroup]="myForm" (ngSubmit)="save(myForm)">
        <div class="form-group">
            <label>Name</label>
            <input type="text" formControlName="name">
        </div>
        <div formArrayName="comments_attributes">
            <div *ngFor="let comment of myForm.controls.comments_attributes.controls; let i=index">
                <div>
                    <span>Comment {{i + 1}}</span>
                </div>
                <span class="glyphicon glyphicon-remove pull-right"
                 *ngIf="myForm.controls.comments_attributes.controls.length > 1" (click)="removeComment(i)"></span>
                 <div [formGroupName]="i">
                     <comment [group]="myForm.controls.comments_attributes.controls[i]"></comment>
                 </div>
                 
            </div>
        </div>
        <div>
            <a (click)="addComment()">Add another comment</a>
        </div>
        <button class="btn btn-primary" type="submit">Submit</button>
    </form>
    <pre>form value: <br>{{ myForm.value | json }}</pre>
   
</div>